<?xml version="1.0" encoding="UTF-8"?> 
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"> 
    <modelVersion>
         4.0.0 
    </modelVersion> 
    <groupId>
         orca.tools 
    </groupId> 
    <artifactId>
         cmdline 
    </artifactId> 
    <!-- <packaging>pom</packaging> --> 
    <name>
         Orca Commandline Testing Environment 
    </name> 
    <description>
         This project provides a template for running Orca from the command line. 
    </description> 
    <parent> 
        <groupId>
             orca 
        </groupId> 
        <artifactId>
             tools 
        </artifactId> 
        <version>5.4.1</version> 
        <relativePath>
             ../pom.xml 
        </relativePath> 
    </parent> 
    <dependencies> 
        <dependency> 
            <groupId>
                 orca 
            </groupId> 
            <artifactId>
                 boot 
            </artifactId> 
            <version>
                 ${project.version} 
            </version> 
        </dependency> 
        <dependency> 
            <groupId>
                 orca 
            </groupId> 
            <artifactId>
                 core 
            </artifactId> 
            <version>
                 ${project.version} 
            </version> 
            <type>
                 pom 
            </type> 
        </dependency> 
        <dependency> 
            <groupId>
                 orca.controllers 
            </groupId> 
            <artifactId>
                 xmlrpc 
            </artifactId> 
            <version>
                 ${project.version} 
            </version> 
            <type>
                 pom 
            </type> 
        </dependency> 
        <dependency> 
            <groupId>
                 orca 
            </groupId> 
            <artifactId>
                 nodeagent 
            </artifactId> 
            <version>
                 ${project.version} 
            </version> 
            <classifier>
                 client 
            </classifier> 
        </dependency> 
        <dependency> 
            <groupId>
                 orca.plugins 
            </groupId> 
            <artifactId>
                 ben 
            </artifactId> 
            <version>
                 ${project.version} 
            </version> 
        </dependency> 
        <dependency> 
            <groupId>
                 orca.dependencies 
            </groupId> 
            <artifactId>
                 ant-contrib 
            </artifactId> 
            <version>
                 ${project.version} 
            </version> 
            <type>
                 pom 
            </type> 
        </dependency> 
        <dependency> 
            <groupId>
                 orca.dependencies 
            </groupId> 
            <artifactId>
                 handler-dependencies 
            </artifactId> 
            <version>
                 ${project.version} 
            </version> 
            <type>
                 pom 
            </type> 
        </dependency> 
    </dependencies> 
    <build> 
        <plugins> 
            <plugin> 
                <groupId>
                     org.codehaus.mojo 
                </groupId> 
                <artifactId>
                     appassembler-maven-plugin 
                </artifactId> 
                <version>
                     1.3 
                </version> 
                <executions> 
                    <execution> 
                        <id>
                             package-execs-and-daemon 
                        </id> 
                        <phase>
                             package 
                        </phase> 
                        <goals> 
                            <goal>
                                 assemble 
                            </goal> 
                        </goals> 
                        <configuration> 
                            <assembleDirectory>
                                 ${basedir}/orca 
                            </assembleDirectory> 
                            <programs> 
                                <program> 
                                    <mainClass>
                                         orca.tools.cmdline.UnpackOrca 
                                    </mainClass> 
                                    <name>
                                         orca-unwrap 
                                    </name> 
                                </program> 
                            </programs> 
                        </configuration> 
                    </execution> 
                </executions> 
            </plugin> 
            <plugin> 
                <groupId>
                     org.jvnet.maven-antrun-extended-plugin 
                </groupId> 
                <artifactId>
                     maven-antrun-extended-plugin 
                </artifactId> 
                <dependencies> 
                    <dependency> 
                        <groupId>
                             ant-contrib 
                        </groupId> 
                        <artifactId>
                             ant-contrib 
                        </artifactId> 
                        <version>
                             1.0b3 
                        </version> 
                    </dependency> 
                </dependencies> 
                <executions> 
                    <execution> 
                        <id>
                             resgen 
                        </id> 
                        <phase>
                             generate-resources 
                        </phase> 
                        <goals> 
                            <goal>
                                 run 
                            </goal> 
                        </goals> 
                        <configuration> 
                            <verifyArtifact>
                                 false 
                            </verifyArtifact> 
                            <tasks> 
                                <taskdef resource="net/sf/antcontrib/antlib.xml" /> 
                                <delete> 
                                    <fileset dir="startup"> 
                                        <include name="*tar.gz" /> 
                                    </fileset> 
                                </delete> 
                                <resolveArtifact groupId="orca.core" artifactId="handlers" classifier="package" type="tar.gz" version="${project.version}" tofile="startup/package-handlers-core.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="ec2" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.ec2.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="xcat" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.xcat.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers.network" artifactId="nsi" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.network.nsi.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers.network" artifactId="oscars" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.network.oscars.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers.network" artifactId="oess" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.network.oess.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="nodeagent2" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.nodeagent2.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers.network" artifactId="providers" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.network.providers.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="network" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.network.tar.gz" /> 
                                <resolveArtifact groupId="orca.plugins" artifactId="ben" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.plugins.ben.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="ibm_ds" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.ibm_ds.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="storage_service" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.storage_service.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="nodeagent2" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.nodeagent2.tar.gz" /> 
                                <resolveArtifact groupId="orca.handlers" artifactId="slurm" version="${project.version}" classifier="package" type="tar.gz" tofile="startup/package-orca.handlers.slurm.tar.gz" /> 
                            </tasks> 
                        </configuration> 
                    </execution> 
                </executions> 
            </plugin> 
            <plugin> 
                <artifactId>
                     maven-clean-plugin 
                </artifactId> 
                <version>
                     2.5 
                </version> 
                <configuration> 
                    <filesets> 
                        <fileset> 
                            <directory>
                                 ${basedir}/orca 
                            </directory> 
                            <includes> 
                                <include>
                                     bin/** 
                                </include> 
                                <include>
                                     repo/** 
                                </include> 
                            </includes> 
                            <followSymlinks>
                                 false 
                            </followSymlinks> 
                        </fileset> 
                    </filesets> 
                </configuration> 
            </plugin> 
        </plugins> 
    </build> 
</project>